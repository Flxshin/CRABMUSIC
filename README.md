# CRABMUSIC
---

### **ä¼˜åŒ–åçš„é¡¹ç›®ç›®å½•ç»“æ„**
```bash
/mnt/dev/MUTE/
â”œâ”€â”€ backend/                  # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ core/            # æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ database.py  # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”‚   â””â”€â”€ security.py  # å®‰å…¨ç›¸å…³é…ç½®
â”‚   â”‚   â”œâ”€â”€ features/        # åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/        # è®¤è¯æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ router.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ user/        # ç”¨æˆ·æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ model.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ router.py
â”‚   â”‚   â”‚   â””â”€â”€ points/      # ç§¯åˆ†æ¨¡å—
â”‚   â”‚   â”‚       â”œâ”€â”€ logic.py # ç§¯åˆ†è®¡ç®—è§„åˆ™
â”‚   â”‚   â”‚       â””â”€â”€ router.py
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ validators/  # æ•°æ®æ ¡éªŒå™¨
â”‚   â”‚   â”‚   â””â”€â”€ middleware/  # è‡ªå®šä¹‰ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ main.py          # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ migrations/          # æ•°æ®åº“è¿ç§»è„šæœ¬
â”‚   â””â”€â”€ requirements.txt     # æŒ‰åŠŸèƒ½åˆ†ç»„çš„ä¾èµ–
â”‚
â”œâ”€â”€ frontend/                # å‰ç«¯SPA
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ modules/         # åŠŸèƒ½æ¨¡å—
â”‚       â”‚   â”œâ”€â”€ user/        # ç”¨æˆ·æ¨¡å—
â”‚       â”‚   â”‚   â””â”€â”€ ProfilePage.vue
â”‚       â”‚   â””â”€â”€ admin/       # ç®¡ç†æ¨¡å—
â”‚       â”‚       â””â”€â”€ UsersPanel.vue
â”‚       â””â”€â”€ services/        # APIæœåŠ¡
â”‚           â””â”€â”€ apiClient.js # ç»Ÿä¸€è¯·æ±‚å°è£…
â”‚
â”œâ”€â”€ docs/                    # æ–‡æ¡£ä¸­å¿ƒ
â”‚   â”œâ”€â”€ API_EXAMPLES.md      # APIè°ƒç”¨ç¤ºä¾‹
â”‚   â””â”€â”€ DB_SCHEMA.md         # æ•°æ®åº“è®¾è®¡æ–‡æ¡£
â”‚
â””â”€â”€ infrastructure/          # åŸºç¡€è®¾æ–½
    â”œâ”€â”€ docker/
    â”‚   â”œâ”€â”€ backend.Dockerfile
    â”‚   â””â”€â”€ frontend.Dockerfile
    â””â”€â”€ scripts/
        â””â”€â”€ init_db.py       # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
```

---


# Navidromeç”¨æˆ·ç®¡ç†ç³»ç»Ÿ

[![Python 3.10+](https://img.shields.io/badge/python-3.10%2B-blue)]()
[![Vue 3](https://img.shields.io/badge/vue-3-brightgreen)]()

ä¸“ä¸ºNavidromeè®¾è®¡çš„è½»é‡çº§ç”¨æˆ·ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒç§¯åˆ†ä½“ç³»å’Œé‚€è¯·ç åŠŸèƒ½

## âœ¨ æ ¸å¿ƒåŠŸèƒ½
### æ™®é€šç”¨æˆ·
- ğŸ“Œ æ¯æ—¥ç­¾åˆ°è·å–éšæœºç§¯åˆ†
- ğŸŸï¸ ç”¨ç§¯åˆ†å…‘æ¢é‚€è¯·ç 
- ğŸ“Š å®æ—¶ç§¯åˆ†ä½™é¢æŸ¥çœ‹
- ğŸ‘¤ ä¸ªäººä¿¡æ¯ç®¡ç†

### ç®¡ç†å‘˜
- ğŸ‘¥ ç”¨æˆ·CRUDæ“ä½œ
- ğŸ¯ ç²¾ç¡®ç§¯åˆ†è°ƒæ•´
- ğŸ”‘ é‚€è¯·ç ç”Ÿå‘½å‘¨æœŸç®¡ç†
- ğŸ“ˆ ç”¨æˆ·è¡Œä¸ºæ—¥å¿—å®¡è®¡

## ğŸ› ï¸ æŠ€æœ¯æ ˆ
| å±‚çº§       | æŠ€æœ¯æ–¹æ¡ˆ               |
|------------|-----------------------|
| **åç«¯**   | Flask + SQLAlchemy    |
| **å‰ç«¯**   | Vue3 + Element Plus   |
| **æ•°æ®åº“** | SQLite3               |
| **éƒ¨ç½²**   | Docker Compose        |

## ğŸš€ å¿«é€Ÿå¯åŠ¨
### åŸºç¡€ç¯å¢ƒ
```bash
# å®‰è£…ä¾èµ–
pip install -r backend/requirements.txt
npm install --prefix frontend

# åˆå§‹åŒ–æ•°æ®åº“
python infrastructure/scripts/init_db.py
```

### å¼€å‘æ¨¡å¼
```bash
# å¯åŠ¨åç«¯
flask run --port=5000 --debug

# å¯åŠ¨å‰ç«¯
cd frontend && npm run dev
```

### ç”Ÿäº§éƒ¨ç½²
```bash
docker-compose -f infrastructure/docker-compose.prod.yml up -d
```

## ğŸ“¦ æ¨¡å—åŒ–è®¾è®¡
```mermaid
graph TD
    A[ç”¨æˆ·æ¨¡å—] --> B(è®¤è¯æœåŠ¡)
    A --> C(ç§¯åˆ†ç³»ç»Ÿ)
    C --> D[ç­¾åˆ°é€»è¾‘]
    C --> E[é‚€è¯·ç äº¤æ˜“]
    B --> F[JWTéªŒè¯]
```

## ğŸ“„ æ•°æ®åº“è®¾è®¡
### æ ¸å¿ƒè¡¨ç»“æ„
| è¡¨å          | å­—æ®µ                     | è¯´æ˜                         |
|---------------|-------------------------|-----------------------------|
| users         | id, username, is_admin  | ä¸»ç”¨æˆ·è¡¨                    |
| points        | user_id, balance        | ç§¯åˆ†æ•°æ®ï¼ˆå¤–é”®å…³è”users.idï¼‰ |
| invite_codes  | code, creator_id, cost  | é‚€è¯·ç ç³»ç»Ÿ                  |

## ğŸ“Œ å¼€å‘è·¯çº¿
1. **ç¬¬ä¸€é˜¶æ®µ**ï¼šæ ¸å¿ƒç”¨æˆ·ç³»ç»Ÿï¼ˆå·²å®Œæˆï¼‰
2. **ç¬¬äºŒé˜¶æ®µ**ï¼šç§¯åˆ†æ¨¡å—å¼€å‘ï¼ˆè¿›è¡Œä¸­ï¼‰
3. **ç¬¬ä¸‰é˜¶æ®µ**ï¼šç®¡ç†åå°å®ç°

## ğŸ¤ è´¡çŒ®æŒ‡å—
æ¬¢è¿é€šè¿‡Issueæäº¤å»ºè®®æˆ–PRè´¡çŒ®ä»£ç ï¼Œè¯·éµå¾ªï¼š
1. æ–°åŠŸèƒ½å¼€å‘éœ€é…å¥—æµ‹è¯•ç”¨ä¾‹
2. æäº¤å‰æ‰§è¡Œä»£ç æ ¼å¼åŒ–
3. ä¿æŒAPIå‘åå…¼å®¹æ€§

## ğŸ“œ è®¸å¯è¯
[MIT License](LICENSE)
```

---

### **æ•°æ®åº“è®¾è®¡æ–‡æ¡£è¡¥å……**
```markdown
## ğŸ”— è¡¨å…³ç³»ç¤ºæ„å›¾
```mermaid
erDiagram
    users ||--o{ points : "1:1"
    users ||--o{ invite_codes : "1:N"
    
    users {
        int id PK
        string(80) username
        string(128) password_hash
        bool is_admin
        string(36) navidrome_id
    }
    
    points {
        int user_id PK,FK
        int balance
        datetime last_checkin
    }
    
    invite_codes {
        string(12) code PK
        int creator_id FK
        int used_by FK
        int cost_points
    }
```

---

### **ä¼˜åŒ–äº®ç‚¹**
1. **æ¨¡å—åŒ–æ¶æ„**ï¼šæŒ‰åŠŸèƒ½æ‹†åˆ†featureç›®å½•ï¼Œé¿å…ä»£ç è‡ƒè‚¿
2. **æ¸è¿›å¼å¼€å‘**ï¼šé€šè¿‡å¼€å‘è·¯çº¿å›¾æ˜ç¡®é˜¶æ®µç›®æ ‡
3. **æ–‡æ¡£å‹å¥½**ï¼šé›†æˆmermaidå›¾è¡¨ç›´è§‚å±•ç¤ºç³»ç»Ÿå…³ç³»
4. **å®‰å…¨å¢å¼º**ï¼šç‹¬ç«‹security.pyé›†ä¸­ç®¡ç†è®¤è¯é€»è¾‘
5. **éƒ¨ç½²ç®€åŒ–**ï¼šæä¾›ä»å¼€å‘åˆ°ç”Ÿäº§çš„å…¨æµç¨‹æŒ‡å—

éœ€è¦ç»§ç»­å®Œå–„å…·ä½“æ¨¡å—æ—¶ï¼Œå¯ä»¥å‘ŠçŸ¥éœ€è¦ä¼˜å…ˆå¼€å‘çš„åŠŸèƒ½éƒ¨åˆ†ï¼Œæˆ‘ä¼šæä¾›é’ˆå¯¹æ€§ä»£ç å®ç°æ–¹æ¡ˆã€‚
